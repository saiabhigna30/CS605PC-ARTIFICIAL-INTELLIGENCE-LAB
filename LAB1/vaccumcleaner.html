<!DOCTYPE html>
<html>
<head>
<title>Vaccum cleaner Agent</title>
<link rel="stylesheet" href="https://pyscript.net/releases/2025.11.2/core.css" />
        <script type="module" src="https://pyscript.net/releases/2025.11.2/core.js"></script>
<style>
.box{
          border:2px solid #3498db; 
          border-radius:10px;
}
</style>
</head>
<body>
<div class="box">
<h1>Table-Driven Agent(Vacuum world-AIMA)</h1>
<py-script>
from pyscript import display
display("Table-Driven Agent Execution")
display("-----------------------------")
class VacuumEnvironment:
    def __init__(self, rooms, start_location):
        self.rooms = rooms
        self.location = start_location

    def percept(self):
        return (self.location, self.rooms[self.location])

    def execute(self, action):
        if action == 'Suck':
            self.rooms[self.location] = 'Clean'
        elif action == 'Right':
            self.location = 'B'
        elif action == 'Left':
            self.location = 'A'
class TableDrivenAgent:
    def __init__(self, table):
        self.table = table
        self.percept_sequence = []

    def agent_function(self, percept):
        self.percept_sequence.append(percept)

        for i in range(len(self.percept_sequence)):
            sequence = tuple(self.percept_sequence[i:])
            if sequence in self.table:
                return self.table[sequence]
        return None



sequence_table = {
    (('A', 'Dirty'),): 'Suck',
    (('A', 'Clean'),): 'Right',
    (('B', 'Dirty'),): 'Suck',
    (('B', 'Clean'),): 'Left',
    (('A', 'Clean'), ('B', 'Clean')): 'Exit',
    (('B', 'Clean'), ('A', 'Clean')): 'Exit'
}


rooms = {'A': 'Clean', 'B': 'Dirty'}
environment = VacuumEnvironment(rooms, 'A')
agent = TableDrivenAgent(sequence_table)


while True:
    percept = environment.percept()
    action = agent.agent_function(percept)

    display(f"Percept: {percept} -> Action: {action}\n")

    if action == 'Exit':
        display("All rooms clean.Agent exits")
        break

    environment.execute(action)
    </py-script>
</div>
</body>
</html>
